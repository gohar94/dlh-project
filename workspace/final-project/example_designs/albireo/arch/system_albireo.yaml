architecture:
  version: 0.3
  subtree:
    - name: system_arch
      attributes:
        technology: 7nm
        latency: 1ns
      local:
        - name: DRAM
          class: DRAM
          attributes:
            technology: 32nm
            width: 64
            datawidth: 8
            block-size: 4
      subtree:
        - name: chip
          local:
            - name: shared_glb
              class: smartbuffer_SRAM
              attributes:
                memory_depth: 262144 # 256KB
                memory_width: 64
                n_banks: 32
                block-size: 4
                word-bits: 16
                read_bandwidth: 16
                write_bandwidth: 16
                n_rdwr_ports: 2
                network_read: D2A_NoC
                network_update: A2D_NoC
            - name: dummy_buffer
              class: dummy_storage
              attributes:
                technology: 32nm
                depth: 0
                width: 8
                network_fill: D2A_NoC
                network_drain: A2D_NoC
            - name: D2A_NoC
              class: SimpleMulticast
              subclass: DAC_SimpleMulticast
              attributes:
                technology: 32nm
                datawidth: 8
                DAC_datawidth: 8
                n_DAC_cycles: datawidth/DAC_datawidth
                n_PLCG_cols: 3
                n_PLCG_rows: 3
                action_name: transfer
                per_datatype_ERT: True
                multicast_factor_argument: num_destinations
            - name: plcg[0..9]
              class: PLCG
              attributes:
                datawidth: datawidth
            # TODO Add aggregator here
